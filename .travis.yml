version: ~> 1.0
os: linux
dist: xenial   # required for Python >= 3.7
language: python
python:
 - "3.6"
 - "3.7"
 - "3.8"
 - "nightly"
jobs:
  include:
      - name: "mypy"
        python: "3.6"
        install: pip install mypy
        script: mypy primes.py binary_search.py --strict
      - name: "pylint"
        python: "3.6"
        install: pip install pylint
        script: pylint primes.py binary_search.py
      - name: "Unit Tests"
        python: "3.6"
        script: python test.py
      - name: "Coverage"
        python: "3.6"
        install: pip install coverage
        script: coverage run --include=primes.py,test.py,binary_search.py test.py && coverage report -m --fail-under=100 --rcfile=coveragerc
      - name: "Speed Test All"
        python: "3.6"
        script: python speed_test.py --all
      - name: "Speed Test 6 Fermat Numbers"
        python: "3.6"
        script: python speed_test.py --fermat 6
      - name: "mypy"
        python: "3.7"
        install: pip install mypy
        script: mypy primes.py binary_search.py --strict
      - name: "pylint"
        python: "3.7"
        install: pip install pylint
        script: pylint primes.py binary_search.py
      - name: "Unit Tests"
        python: "3.7"
        script: python test.py
      - name: "Coverage"
        python: "3.7"
        install: pip install coverage
        script: coverage run --include=primes.py,test.py,binary_search.py test.py && coverage report -m --fail-under=100 --rcfile=coveragerc
      - name: "Speed Test All"
        python: "3.7"
        script: python speed_test.py --all
      - name: "Speed Test 6 Fermat Numbers"
        python: "3.7"
        script: python speed_test.py --fermat 6
      - name: "mypy"
        python: "3.8"
        install: pip install mypy
        script: mypy primes.py binary_search.py --strict
      - name: "pylint"
        python: "3.8"
        install: pip install pylint
        script: pylint primes.py binary_search.py
      - name: "Unit Tests"
        python: "3.8"
        script: python test.py
      - name: "Coverage"
        python: "3.8"
        install: pip install coverage
        script: coverage run --include=primes.py,test.py,binary_search.py test.py && coverage report -m --fail-under=100 --rcfile=coveragerc
      - name: "Speed Test All"
        python: "3.8"
        script: python speed_test.py --all
      - name: "Speed Test 6 Fermat Numbers"
        python: "3.8"
        script: python speed_test.py --fermat 6
      - name: "mypy"
        python: "nightly"
        install: pip install mypy
        script: mypy primes.py binary_search.py --strict
      - name: "pylint"
        python: "nightly"
        install: pip install pylint
        script: pylint primes.py binary_search.py
      - name: "Unit Tests"
        python: "nightly"
        script: python test.py
      - name: "Coverage"
        python: "nightly"
        install: pip install coverage
        script: coverage run --include=primes.py,test.py,binary_search.py test.py && coverage report -m --fail-under=100 --rcfile=coveragerc
      - name: "Speed Test All"
        python: "nightly"
        script: python speed_test.py --all
      - name: "Speed Test 6 Fermat Numbers"
        python: "nightly"
        script: python speed_test.py --fermat 6
